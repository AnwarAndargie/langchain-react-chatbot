@import "tailwindcss";

/* ============================================================
   Design Tokens — Tailwind v4 @theme
   ============================================================ */

@theme {
    /* ── Font families ─────────────────────────────────────── */
    --font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
        Oxygen, Ubuntu, sans-serif;
    --font-mono: "JetBrains Mono", "Fira Code", Consolas, monospace;

    /* ── Colors — Light (default) ──────────────────────────── */
    --color-bg: #ffffff;
    --color-bg-subtle: #f8f9fa;
    --color-bg-muted: #f1f3f5;
    --color-bg-emphasis: #e9ecef;

    --color-surface: #ffffff;
    --color-surface-raised: #ffffff;

    --color-border: #dee2e6;
    --color-border-subtle: #e9ecef;

    --color-text: #212529;
    --color-text-secondary: #495057;
    --color-text-muted: #868e96;
    --color-text-placeholder: #adb5bd;
    --color-text-inverse: #ffffff;

    /* Accent — slate-blue */
    --color-primary: #4263eb;
    --color-primary-hover: #3b5bdb;
    --color-primary-active: #364fc7;
    --color-primary-subtle: #dbe4ff;
    --color-primary-text: #ffffff;

    /* Semantic */
    --color-success: #2b8a3e;
    --color-success-subtle: #d3f9d8;
    --color-warning: #e67700;
    --color-warning-subtle: #fff3bf;
    --color-danger: #c92a2a;
    --color-danger-subtle: #ffe3e3;
    --color-info: #1971c2;
    --color-info-subtle: #d0ebff;

    /* Specific UI */
    --color-sidebar-bg: #f8f9fa;
    --color-sidebar-border: #e9ecef;
    --color-input-bg: #ffffff;
    --color-input-border: #ced4da;
    --color-input-focus: #4263eb;
    --color-bubble-user: #4263eb;
    --color-bubble-user-text: #ffffff;
    --color-bubble-ai: #f1f3f5;
    --color-bubble-ai-text: #212529;

    /* ── Animations ────────────────────────────────────────── */
    --animate-spin-fast: spin 0.6s linear infinite;
    --animate-spin-smooth: spin 0.8s linear infinite;
    --animate-bubble-in: bubble-in 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    --animate-field-error: field-error-in 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ── Keyframes ─────────────────────────────────────────── */
@keyframes bubble-in {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes field-error-in {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ── Dark theme overrides ────────────────────────────────── */
[data-theme="dark"] {
    --color-bg: #141517;
    --color-bg-subtle: #1a1b1e;
    --color-bg-muted: #25262b;
    --color-bg-emphasis: #2c2e33;

    --color-surface: #1a1b1e;
    --color-surface-raised: #25262b;

    --color-border: #373a40;
    --color-border-subtle: #2c2e33;

    --color-text: #e9ecef;
    --color-text-secondary: #ced4da;
    --color-text-muted: #868e96;
    --color-text-placeholder: #5c5f66;
    --color-text-inverse: #141517;

    --color-primary: #5c7cfa;
    --color-primary-hover: #748ffc;
    --color-primary-active: #4c6ef5;
    --color-primary-subtle: rgba(92, 124, 250, 0.15);
    --color-primary-text: #ffffff;

    --color-success: #51cf66;
    --color-success-subtle: rgba(81, 207, 102, 0.15);
    --color-warning: #fcc419;
    --color-warning-subtle: rgba(252, 196, 25, 0.15);
    --color-danger: #ff6b6b;
    --color-danger-subtle: rgba(255, 107, 107, 0.15);
    --color-info: #74c0fc;
    --color-info-subtle: rgba(116, 192, 252, 0.15);

    --color-sidebar-bg: #1a1b1e;
    --color-sidebar-border: #2c2e33;
    --color-input-bg: #25262b;
    --color-input-border: #373a40;
    --color-input-focus: #5c7cfa;
    --color-bubble-user: #5c7cfa;
    --color-bubble-user-text: #ffffff;
    --color-bubble-ai: #25262b;
    --color-bubble-ai-text: #e9ecef;
}

/* ── Global base ─────────────────────────────────────────── */
body {
    font-family: var(--font-sans);
    color: var(--color-text);
    background-color: var(--color-bg);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    transition: background-color 0.2s ease, color 0.2s ease;
}

#root {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* ── Scrollbar ───────────────────────────────────────────── */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

* {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) transparent;
}

/* ── Focus visible ───────────────────────────────────────── */
:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

::selection {
    background-color: var(--color-primary-subtle);
    color: var(--color-text);
}